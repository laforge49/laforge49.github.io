<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>agent2.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Agent2 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>agent2</span></div></div></li><li class="depth-2 current"><a href="agent2.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="agent2.core.html#var-exception-reply"><div class="inner"><span>exception-reply</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-get-agent"><div class="inner"><span>get-agent</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-get-agent-value"><div class="inner"><span>get-agent-value</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-get-exception-handler"><div class="inner"><span>get-exception-handler</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-reply"><div class="inner"><span>reply</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-request"><div class="inner"><span>request</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-set-agent-value.21"><div class="inner"><span>set-agent-value!</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-set-exception-handler.21"><div class="inner"><span>set-exception-handler!</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-signal"><div class="inner"><span>signal</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">agent2.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-exception-reply"><h3>exception-reply</h3><div class="usage"><code>(exception-reply exception)</code></div><div class="doc"><pre class="plaintext">Pass an exception to the source which invoked the request, if any:

     exception - The exception.

No response is sent if the current operating context is for a signal rather than for a request.
Rather, the exception is simply thrown.</pre></div></div><div class="public anchor" id="var-get-agent"><h3>get-agent</h3><div class="usage"><code>(get-agent)</code></div><div class="doc"><pre class="plaintext">Returns the agent being operated on.
</pre></div></div><div class="public anchor" id="var-get-agent-value"><h3>get-agent-value</h3><div class="usage"><code>(get-agent-value)</code></div><div class="doc"><pre class="plaintext">Returns the value of the agent being operated on.
This may be the current value of the agent, or the last value bound with
set-agent-value!.</pre></div></div><div class="public anchor" id="var-get-exception-handler"><h3>get-exception-handler</h3><div class="usage"><code>(get-exception-handler)</code></div><div class="doc"><pre class="plaintext">Returns the exception handler bound to the operating context, or nil.
</pre></div></div><div class="public anchor" id="var-reply"><h3>reply</h3><div class="usage"><code>(reply v)</code></div><div class="doc"><pre class="plaintext">Reply to a request via a buffered message:

     v - The response.

No response is sent if the operating context is for a signal rather than for a request.</pre></div></div><div class="public anchor" id="var-request"><h3>request</h3><div class="usage"><code>(request agent f args fr)</code></div><div class="doc"><pre class="plaintext">A buffered 2-way message exchange to operate on an agent and get a reply without blocking:

     agent - The agent to be operated on.
     f     - The function which operates on the agent.
     args  - Arguments to be passed to f. May be ().
     fr    - The callback function which processes the
             response.

The f function takes the target agent&apos;s value as its first argument and args as
the remaining arguments. Its return value is ignored. This function should use the set-agent-value
function to update the state of the agent. A response is returned by calling the reply function.

The fr function takes two arguments, the value of the local agent andthe response returned by the reply function.
This function is called within the threadding context of the agent which invoked request.
But processing is asynchronous--there is no thread blocking. Rather, the processing of requests
and responses are interleaved. Isolation then is an issue that must be managed by the application.

The request and reply functions can only be used when processing a signal, request or response. Only signals
then can be used elsewhere.</pre></div></div><div class="public anchor" id="var-set-agent-value.21"><h3>set-agent-value!</h3><div class="usage"><code>(set-agent-value! value)</code></div><div class="doc"><pre class="plaintext">Bind a new value to be given to the agent once the current operation is complete.
</pre></div></div><div class="public anchor" id="var-set-exception-handler.21"><h3>set-exception-handler!</h3><div class="usage"><code>(set-exception-handler! exception-handler)</code></div><div class="doc"><pre class="plaintext">Bind a new exception handler function to the operating context:

   exception-handler - The function which will handle
                       any excptions.

The exception handler function must have two arguments, the agent value and the exception
to be handled.</pre></div></div><div class="public anchor" id="var-signal"><h3>signal</h3><div class="usage"><code>(signal agent f &amp; args)</code></div><div class="doc"><pre class="plaintext">An unbuffered, 1-way message to operate on an agent.

     agent - The agent to be operated on.
     f     - The function to operate on the agent.
     args  - Optional arguments to f.

The f function takes the target agent&apos;s value as its first argument and args as
the remaining arguments. Its return value is ignored. This function should use the set-agent-value
function to update the state of the agent.

Signals are unbuffered and are immediately passed to the target agent via the send function.
The signal function can be invoked from anywhere as it does not itself use an operating context
and should be used in place of send because of the added support for request/reply.</pre></div></div></div></body></html>