<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>agent2.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Agent2 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>agent2</span></div></div></li><li class="depth-2 current"><a href="agent2.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="agent2.core.html#var-*agent-value*"><div class="inner"><span>*agent-value*</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-*context-atom*"><div class="inner"><span>*context-atom*</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-create-context-atom"><div class="inner"><span>create-context-atom</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-get-agent-value"><div class="inner"><span>get-agent-value</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-reply"><div class="inner"><span>reply</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-request"><div class="inner"><span>request</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-set-agent-value"><div class="inner"><span>set-agent-value</span></div></a></li><li class="depth-1"><a href="agent2.core.html#var-signal"><div class="inner"><span>signal</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">agent2.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*agent-value*"><h3>*agent-value*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Current value of the agent being operated on.
</pre></div></div><div class="public anchor" id="var-*context-atom*"><h3>*context-atom*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Holds the operational context of the agent being operated on.
</pre></div></div><div class="public anchor" id="var-create-context-atom"><h3>create-context-atom</h3><div class="usage"><code>(create-context-atom agent)</code><code>(create-context-atom agent properties)</code><code>(create-context-atom agent properties src-ctx-atom)</code></div><div class="doc"><pre class="plaintext">Create an atom with the operational context for operating on an actor:

   agent        - The agent to be operated on.
   properties   - Properties assigned to the context, defaults to {}.
   src-ctx-atom - The atom for the operational context creating the new context,
   defaults to *context-atom*.

Minimum initial properties:

   :agent        - The agent to be operated on.
   :src-ctx-atom - The atom for the creating context.
   :unsent       - Buffered requests/responses which have not yet been sent.

Returns the new context atom.</pre></div></div><div class="public anchor" id="var-get-agent-value"><h3>get-agent-value</h3><div class="usage"><code>(get-agent-value)</code></div><div class="doc"><pre class="plaintext">Returns the value of the agent being operated on.
This may be the current value of the agent, or the last value used with
set-agent-value.</pre></div></div><div class="public anchor" id="var-reply"><h3>reply</h3><div class="usage"><code>(reply v)</code></div><div class="doc"><pre class="plaintext">Reply to a request via a buffered message:

   v - The response.

No response is sent if the operating context is for a signal rather than for a request.</pre></div></div><div class="public anchor" id="var-request"><h3>request</h3><div class="usage"><code>(request agent f fr)</code></div><div class="doc"><pre class="plaintext">A buffered 2-way message exchange to operate on an agent and get a reply without blocking:

   agent - The agent to be operated on.
   f     - The function which operates on the agent.
   fr    - The callback function which processes the response.

The function f takes no arguments and its return value is ignored.
This function should use the get-agent-value and set-agent-value functions to
access the value of the agent being operated on. A response is returned by calling the reply function.

The fr function also takes one argument, the response returned by the reply function.
This function is called within the threadding context of the actor which invoked request.
But processing is asynchronous--there is no thread blocking. Rather, the processing of requests
and responses are interleaved. Isolation then is an issue that must be managed by the application.

The request and reply functions can only be used when processing a signal, request or response. Only signals
then can be used elsewhere.</pre></div></div><div class="public anchor" id="var-set-agent-value"><h3>set-agent-value</h3><div class="usage"><code>(set-agent-value value)</code></div><div class="doc"><pre class="plaintext">Bind a new value to be given to the agent once the current operation is complete.
</pre></div></div><div class="public anchor" id="var-signal"><h3>signal</h3><div class="usage"><code>(signal agent f)</code></div><div class="doc"><pre class="plaintext">An unbuffered, 1-way message to operate on an actor.

   agent - The agent to be operated on.
   f     - The function to operate on the agent.

The f function takes no arguments and its return value is ignored.
This function should use the get-agent-value and set-agent-value functions to
access the state of the agent.

Signals are unbuffered and are immediately passed to the target agent via the send function.
The signal function can be invoked from anywhere as it does not itself use an operating context.
Signals should be used in place of send because of the added support for request/reply.</pre></div></div></div></body></html>